import React, { useState, useEffect } from 'react'; import { MapPin, Navigation, Calendar, Cloud, Sun, CloudSnow, Wind, Utensils, Camera, Train, Plane, Home, Phone, Wallet, Info, Snowflake, ArrowRight, Plus, Trash2, RefreshCw, ChevronDown } from 'lucide-react';  // --- 1. åœ°é»žåº§æ¨™ (ç”¨æ–¼å³æ™‚å¤©æ°£ API) --- // ä¿®æ­£äº† Maleny å¾Œé¢ç¼ºå°‘é€—è™Ÿçš„ Syntax Error const LOCATIONS = {   "Sydney": { lat: -33.859972, lon: 151.211111 },   "Jamberoo": { lat: -34.648468, lon: 150.777145 },   "Taralga": { lat: -34.4636, lon: 149.7978 },   "Blue Mountain": { lat: -33.7158, lon: 150.3133 },   "Gold Coast": { lat: -27.4697707, lon: 153.0251235 },   "Maleny": { lat: -26.7626299, lon: 152.8522429 }, // âœ¨ å·²ä¿®æ­£ï¼šåŠ å…¥é€—è™Ÿ   "Tin Can Bay": { lat: -25.9167, lon: 153.0000 },   "Brisbane": { lat: -27.4689682, lon: 153.0234991 } };  // --- 2. è¡Œç¨‹è³‡æ–™ (æ ¹æ“š PDF å®Œæ•´æ›´æ–°åŠæ™‚é–“æ ¼å¼ä¿®æ­£) --- const tripData = [   {     day: 1,     date: "12/25 (å››)",     city: "Sydney",     title: "æŠµé”æ‚‰å°¼ & Circular Quay",     events: [       { time: "15:30 - 16:00", type: "transport", title: "æŠµé” SYD æ©Ÿå ´ -> Mascot", desc: "æ­ Airport Link ç«è»ŠåŽ» Mascot ç«™ (HK$140)ã€‚", nav: "Mascot Station", tips: "è–èª•æ—¥ç­æ¬¡å¯èƒ½æ¸›å°‘ï¼Œå¯¦éš›è»Šç¨‹ 5minã€‚" },       { time: "16:00 - 16:30", type: "stay", title: "å…¥ä½ Meriton Suites", desc: "Mascot Central, 8 Jackson Dr (HK$1,050)ã€‚", nav: "Meriton Suites Mascot Central", note: "è©•åƒ¹4.5/5ï¼Œ24/7é–‹æ”¾ã€‚" },       { time: "16:30 - 17:00", type: "stay", title: "é…’åº—ä¼‘æ¯ / æº–å‚™", desc: "å–ºé…’åº—æ•´é “ä¸€ä¸‹ã€‚", nav: "Meriton Suites Mascot Central" },       { time: "17:00 - 17:30", type: "transport", title: "å‰å¾€ Circular Quay", desc: "æ­ç«è»Šç”± Mascot åŽ» Circular Quayã€‚", nav: "Circular Quay Station", tips: "å¯¦éš›è»Šç¨‹ 16minã€‚" },       { time: "17:30 - 18:45", type: "sight", title: "Circular Quay å¤œæ™¯", desc: "æ­ŒåŠ‡é™¢ã€æµ·æ¸¯å¤§æ©‹è–èª•ç‡ˆé£¾ã€‚", nav: "Circular Quay", highlight: "è–èª•ç‡ˆé£¾", tips: "äººå¤šæ“ è¿«ï¼Œæ³¨æ„è²¡ç‰©ï¼" },       { time: "18:45 - 21:00", type: "food", title: "Fortune of War æ™šé¤", desc: "å‚³çµ±é…’å§æ™šé¤ (HK$160)ã€‚", nav: "Fortune of War", highlight: "éœ€é ç´„", note: "è©•åƒ¹4.3/5ï¼Œéœ€ç¢ºèªè–èª•ç‡Ÿæ¥­ã€‚" },       { time: "21:00 - 21:15", type: "transport", title: "è¿”é…’åº—ä¼‘æ¯", desc: "æ­ç«è»Šè¿” Mascot Centralã€‚", nav: "Meriton Suites Mascot Central" }     ]   },   {     day: 2,     date: "12/26 (äº”)",     city: "Sydney",     title: "Boxing Day & Bondi Beach",     events: [       { time: "09:00 - 09:45", type: "food", title: "é…’åº—é™„è¿‘æ—©é¤", desc: "Mascot Central é™„è¿‘ (HK$200)ã€‚", nav: "Mascot Central" },       { time: "10:00 - 10:40", type: "transport", title: "å‰å¾€ QVB", desc: "æ­ç«è»Š Mascot -> Central -> QVB (HK$40)ã€‚", nav: "Queen Victoria Building", tips: "å¯¦éš›è»Šç¨‹ 7minã€‚" },       { time: "10:40 - 12:30", type: "shop", title: "QVB é€›è¡— (Boxing Day)", desc: "Queen Victoria Building è³¼ç‰© (è©•åƒ¹4.6/5)ã€‚", nav: "Queen Victoria Building", highlight: "Boxing Day ç†±é¬§", tips: "äººå¤šæ“ è¿«ã€‚" },       { time: "12:30 - 13:30", type: "food", title: "åˆé¤ @ QVB Food Court", desc: "ç°¡å–®åˆé¤ (HK$100)ã€‚", nav: "Queen Victoria Building" },       { time: "13:30 - 14:15", type: "transport", title: "å‰å¾€ Outlet", desc: "æ­å·´å£« 442 åŽ» Birkenhead Point (HK$40)ã€‚", nav: "Birkenhead Point Outlet Centre", tips: "å¯¦éš›è»Šç¨‹ 16minã€‚" },       { time: "14:15 - 15:15", type: "shop", title: "Birkenhead Point Outlet", desc: "é‡é»ž: Lululemon (è©•åƒ¹4.4/5)ã€‚", nav: "Birkenhead Point Outlet Centre", highlight: "å¿…è²·", tips: "ç‰¹åƒ¹å¤šä½†æŽ’éšŠé•·ã€‚" },       { time: "15:15 - 16:00", type: "transport", title: "å‰å¾€æ©Ÿå ´å–è»Š", desc: "æ­çš„å£«åŽ» Simba Car Hire (HK$100)ã€‚", nav: "Simba Car Hire Sydney Airport", note: "æª¢æŸ¥è»Šæ³ä¸¦æ‹ç…§ã€‚" },       { time: "16:00 - 17:00", type: "transport", title: "è‡ªé§•åŽ» Bondi Beach", desc: "æ²¹è²»ç´„ HK$50ã€‚", nav: "Bondi Beach", tips: "å¯¦éš›è»Šç¨‹ 15minã€‚" },       { time: "17:00 - 18:15", type: "sight", title: "Bondi to Coogee Walk", desc: "æµ·æ¿±æ­¥é“ (Expensive Parking)ã€‚", nav: "Bondi to Coogee Walk", tips: "å¤å­£ç†±/äººå¤šï¼Œæ³¨æ„é˜²æ›¬ã€‚" },       { time: "18:15 - 18:45", type: "transport", title: "è‡ªé§•åŽ» lyf Bondi Junction", desc: "å‰å¾€ä½å®¿é»ž (No Parking)ã€‚", nav: "lyf Bondi Junction Sydney" },       { time: "18:45 - 19:00", type: "stay", title: "å…¥ä½ lyf Bondi Junction", desc: "95-97 Oxford St (HK$800)ã€‚", nav: "lyf Bondi Junction Sydney", note: "ä½ç½®æ–¹ä¾¿ï¼Œè©•åƒ¹4.2/5ã€‚" },       { time: "19:00 - 21:00", type: "food", title: "Icebergs Dining Room", desc: "çµ•ç¾Žæµ·æ™¯æ™šé¤ (HK$300)ã€‚", nav: "Icebergs Dining Room and Bar", highlight: "éœ€é ç´„" }     ]   },   {     day: 3,     date: "12/27 (å…­)",     city: "Sydney",     title: "Grand Pacific Drive Roadtrip",     events: [       { time: "08:00 - 09:00", type: "food", title: "Bills Bondi æ—©é¤", desc: "283 Bondi Rdï¼Œç¶“å…¸æ—©é¤ (HK$220)ã€‚", nav: "Bills Bondi", highlight: "ç¶“å…¸å¿…é£Ÿ" },       { time: "09:00 - 10:00", type: "transport", title: "è‡ªé§•åŽ» Cape Solander", desc: "è»Šç¨‹ç´„ 45min - 1hrã€‚", nav: "Cape Solander" },       { time: "10:00 - 10:30", type: "sight", title: "Cape Solander è§€æ™¯", desc: "è§€é¯¨é»žåŠæµ·æ™¯ï¼Œé¢¨æ™¯ç¾Žä½†é¢¨å¤§ã€‚", nav: "Cape Solander" },       { time: "10:30 - 11:40", type: "transport", title: "è‡ªé§•åŽ» Bald Hill Lookout", desc: "è»Šç¨‹ç´„ 55min (46.7km)ã€‚", nav: "Bald Hill Lookout" },       { time: "11:40 - 12:10", type: "sight", title: "Bald Hill Lookout", desc: "ä¿¯çž° Sea Cliff Bridgeï¼Œè¦–é‡Žé–‹é—Šã€‚", nav: "Bald Hill Lookout" },       { time: "12:10 - 12:20", type: "transport", title: "è‡ªé§•åŽ» Sea Cliff Bridge", desc: "è»Šç¨‹ 10min (7km)ã€‚", nav: "Sea Cliff Bridge" },       { time: "12:20 - 12:30", type: "sight", title: "Sea Cliff Bridge", desc: "æ­¥è¡Œè§€æ™¯ï¼Œæ©‹æ™¯å£¯è§€ã€‚", nav: "Sea Cliff Bridge", tips: "é¢¨å¤§ï¼ŒæŠ“ç·Šæ‰‹æ©Ÿã€‚" },       { time: "12:30 - 13:00", type: "transport", title: "è‡ªé§•åŽ» Southern Gateway", desc: "è»Šç¨‹ 20min (23.3km)ã€‚", nav: "Southern Gateway Centre" },       { time: "13:00 - 14:00", type: "sight", title: "Southern Gateway Centre", desc: "ä¼‘æ¯ã€åŽ»æ´—æ‰‹é–“åŠè§€æ™¯ã€‚", nav: "Southern Gateway Centre" },       { time: "14:00 - 14:30", type: "transport", title: "è‡ªé§•åŽ» Mount Keira", desc: "è»Šç¨‹ 20min (17.8km)ã€‚", nav: "Mount Keira Lookout" },       { time: "14:30 - 15:00", type: "sight", title: "Mount Keira Lookout", desc: "ä¿¯çž° Wollongong æ™¯è‰²ã€‚", nav: "Mount Keira Lookout" },       { time: "15:00 - 16:00", type: "transport", title: "è‡ªé§•åŽ» Cathedral Rocks", desc: "è»Šç¨‹ 40min (41.6km)ã€‚", nav: "Cathedral Rocks Kiama" },       { time: "16:00 - 16:30", type: "sight", title: "Cathedral Rocks", desc: "è§€è³žç«å±±å²©æŸ±åœ°è³ªå¥‡è§€ã€‚", nav: "Cathedral Rocks Kiama" },       { time: "16:30 - 16:45", type: "transport", title: "è‡ªé§•åŽ» Bombo Headland", desc: "è»Šç¨‹ 15min (5km)ã€‚", nav: "Bombo Headland Geological Site" },       { time: "16:45 - 17:00", type: "sight", title: "Bombo Headland", desc: "è§€è³žçŽ„æ­¦å²©æŸ±ã€‚", nav: "Bombo Headland Geological Site" },       { time: "17:00 - 17:15", type: "transport", title: "è‡ªé§•åŽ» Kiama Blowhole", desc: "è»Šç¨‹ 10min (2km)ã€‚", nav: "Kiama Blowhole" },       { time: "17:15 - 17:45", type: "sight", title: "Kiama Blowhole", desc: "å™´æ°´æ´žï¼Œæµªå¤§æ™‚æœ€å£¯è§€ã€‚", nav: "Kiama Blowhole" },       { time: "17:45 - 18:15", type: "transport", title: "è‡ªé§•åŽ» Saddleback Mt", desc: "è»Šç¨‹ 15min (9km)ã€‚", nav: "Saddleback Mountain Lookout" },       { time: "18:15 - 18:45", type: "sight", title: "Saddleback Mt Lookout", desc: "ä¿¯çž° Kiamaï¼Œè§€è³žæ—¥è½ã€‚", nav: "Saddleback Mountain Lookout" },       { time: "18:45 - 19:45", type: "transport", title: "è‡ªé§•åŽ» Balgownie", desc: "è»Šç¨‹ 50min (43km)ã€‚", nav: "Balgownie, NSW" },       { time: "19:45 - 20:00", type: "stay", title: "å…¥ä½ Airbnb Balgownie", desc: "èˆ’é©ä½å®¿ (HK$900)ã€‚", nav: "Balgownie, NSW", note: "éœ€ç¢ºèªå…¥ä½æ™‚é–“ã€‚" },       { time: "20:00 - 21:30", type: "food", title: "The Lagoon Seafood", desc: "æµ·é®®æ™šé¤ (HK$200)ã€‚", nav: "The Lagoon Seafood Restaurant", highlight: "æµ·é®®æ–°é®®" }     ]   },   {     day: 4,     date: "12/28 (æ—¥)",     city: "Jamberoo",     title: "Jamberoo æ°´ä¸Šæ¨‚åœ’",     events: [       { time: "08:30 - 09:00", type: "food", title: "Airbnb è‡ªå‚™æ—©é¤", desc: "ç°¡å–®æ—©é¤ (HK$100)ã€‚", nav: "Balgownie, NSW" },       { time: "09:00 - 10:00", type: "transport", title: "è‡ªé§•åŽ» Jamberoo", desc: "è»Šç¨‹ 50min (45km)ã€‚", nav: "Jamberoo Action Park" },       { time: "10:00 - 17:00", type: "sight", title: "Jamberoo Action Park", desc: "å…¨æ—¥çŽ©æ°´ (é–€ç¥¨ HK$600)ã€‚", nav: "Jamberoo Action Park", highlight: "Funnel Web å¿…çŽ©", tips: "é è³¼é–€ç¥¨é¿æŽ’éšŠã€‚" },       { time: "17:00 - 19:15", type: "transport", title: "è‡ªé§•åŽ» Goulburn", desc: "è»Šç¨‹ 2hr 15min (149km)ã€‚", nav: "Goulburn, NSW" },       { time: "19:15 - 19:30", type: "stay", title: "å…¥ä½ Mercure Goulburn", desc: "2 Lockyer St (HK$800)ã€‚", nav: "Mercure Goulburn", note: "è©•åƒ¹4.2/5ã€‚" },       { time: "19:30 - 21:00", type: "food", title: "Hibernian Hotel æ™šé¤", desc: "å‚³çµ±é…’å§æ™šé¤ (HK$160)ã€‚", nav: "Hibernian Hotel Goulburn" }     ]   },   {     day: 5,     date: "12/29 (ä¸€)",     city: "Taralga",     title: "è¢‹ç†Š & è—å±±",     events: [       { time: "08:30 - 09:00", type: "food", title: "é…’åº—æ—©é¤", desc: "å·²åŒ…æ—©é¤ã€‚", nav: "Mercure Goulburn" },       { time: "09:00 - 10:00", type: "transport", title: "è‡ªé§•åŽ» Taralga Wildlife", desc: "è»Šç¨‹ 50min (42km)ã€‚", nav: "Taralga Wildlife Park" },       { time: "10:00 - 12:00", type: "sight", title: "Taralga Wildlife Park", desc: "Wombat Interaction (HK$200)ã€‚", nav: "Taralga Wildlife Park", highlight: "é‡é»ž: æ‘¸è¢‹ç†Š", tips: "éœ€é ç´„äº’å‹•ã€‚" },       { time: "12:00 - 16:00", type: "transport", title: "è‡ªé§•åŽ» Lincoln's Rock", desc: "å«åˆé¤æ™‚é–“ï¼Œè»Šç¨‹ 2hr 45minã€‚", nav: "Lincoln's Rock" },       { time: "16:00 - 16:30", type: "sight", title: "Lincoln's Rock", desc: "ä¿¯çž° Jamison Valleyï¼Œæ‡¸å´–æ‰“å¡ã€‚", nav: "Lincoln's Rock", tips: "ç„¡æ¬„æ†ï¼Œæ³¨æ„å®‰å…¨ï¼" },       { time: "16:30 - 16:40", type: "transport", title: "è‡ªé§•åŽ» Wentworth Falls", desc: "è»Šç¨‹ 10min (13km)ã€‚", nav: "Wentworth Falls Lookout" },       { time: "16:40 - 17:15", type: "sight", title: "Wentworth Falls Lookout", desc: "ç‡ç€‘å¸ƒã€‚", nav: "Wentworth Falls Lookout" },       { time: "17:15 - 17:45", type: "transport", title: "è‡ªé§•åŽ» Govetts Leap", desc: "è»Šç¨‹ 30min (24km)ã€‚", nav: "Govetts Leap Lookout" },       { time: "17:45 - 18:30", type: "sight", title: "Govetts Leap Lookout", desc: "ä¿¯çž° Grose Valleyã€‚", nav: "Govetts Leap Lookout" },       { time: "18:30 - 19:00", type: "transport", title: "è‡ªé§•åŽ» Katoomba", desc: "å‰å¾€é…’åº— (15km)ã€‚", nav: "Fairmont Resort & Spa Blue Mountains" },       { time: "18:40 - 19:00", type: "stay", title: "å…¥ä½ Fairmont Resort", desc: "Blue Mountains (HK$1,300)ã€‚", nav: "Fairmont Resort & Spa Blue Mountains", note: "åº¦å‡æ‘èˆ’é©ã€‚" },       { time: "19:00 - 20:30", type: "food", title: "Embers æ™šé¤", desc: "é…’åº—å…§æ™šé¤ (HK$200)ã€‚", nav: "Embers Restaurant", highlight: "éœ€é ç´„" }     ]   },   {     day: 6,     date: "12/30 (äºŒ)",     city: "Blue Mountain",     title: "Scenic World -> å¸ƒé‡Œæ–¯æœ¬",     events: [       { time: "08:00 - 08:45", type: "food", title: "é…’åº—æ—©é¤", desc: "Fairmont Resortã€‚", nav: "Fairmont Resort & Spa Blue Mountains" },       { time: "08:45 - 09:00", type: "transport", title: "è‡ªé§•åŽ» Scenic World", desc: "è»Šç¨‹ 10minã€‚", nav: "Scenic World" },       { time: "09:00 - 12:00", type: "sight", title: "Scenic World", desc: "çºœè»Šç„¡é™ç¥¨ (HK$600)ã€‚", nav: "Scenic World", highlight: "Railway å¿…å", tips: "9am é–‹é–€å³å…¥ã€‚" },       { time: "12:00 - 13:00", type: "food", title: "åˆé¤ @ Scenic World", desc: "EATS æˆ– Echo Point (HK$110)ã€‚", nav: "Scenic World" },       { time: "13:00 - 16:00", type: "transport", title: "é‚„è»Š & åŽ»æ©Ÿå ´", desc: "Simba é‚„è»Š -> çš„å£«åŽ»æ©Ÿå ´ã€‚", nav: "Simba Car Hire Sydney Airport", note: "16:00 æº–æ™‚é‚„è»Šã€‚" },       { time: "16:00 - 18:30", type: "transport", title: "é£›å¾€å¸ƒé‡Œæ–¯æœ¬", desc: "JQ822 (18:25 - 18:55) æ©Ÿç¥¨ HK$1,100ã€‚", nav: "Sydney Airport Domestic Terminal" },       { time: "19:15 - 19:30", type: "transport", title: "çš„å£«åŽ»é…’åº—", desc: "å‰å¾€ Royal Albert Hotel (HK$150)ã€‚", nav: "Royal Albert Hotel Brisbane" },       { time: "20:00 - 21:30", type: "food", title: "Popolo Italian Kitchen", desc: "ç¾©å¼æ™šé¤ (HK$160)ã€‚", nav: "Popolo Italian Kitchen", note: "è©•åƒ¹ 4.3/5ã€‚" }     ]   },   {     day: 7,     date: "12/31 (ä¸‰)",     city: "Gold Coast",     title: "Movie World & é™¤å¤•ç…™èŠ±",     events: [       { time: "08:00 - 09:30", type: "food", title: "é…’åº—æ—©é¤", desc: "Royal Albert Hotelã€‚", nav: "Royal Albert Hotel Brisbane" },       { time: "09:30 - 10:00", type: "transport", title: "å–è»Š (Enterprise)", desc: "400 George St (ç§Ÿè»Š HK$375)ã€‚", nav: "Enterprise Rent-A-Car Brisbane City" },       { time: "10:00 - 11:00", type: "transport", title: "è‡ªé§•åŽ» Movie World", desc: "è»Šç¨‹ 1hr (55km)ã€‚", nav: "Warner Bros. Movie World" },       { time: "11:00 - 17:00", type: "sight", title: "Warner Bros Movie World", desc: "å…¨æ—¥æ¨‚åœ’ (é–€ç¥¨ HK$1,000)ã€‚", nav: "Warner Bros. Movie World", highlight: "DC Rivals / Superman", tips: "æå‰è²·ç¥¨ã€‚" },       { time: "17:00 - 18:00", type: "transport", title: "è‡ªé§•åŽ» Surfers Paradise", desc: "è»Šç¨‹ 1hr (40km)ã€‚", nav: "Surfers Paradise" },       { time: "18:00 - 18:30", type: "stay", title: "å…¥ä½ Mercure Gold Coast", desc: "81 Surf Parade (HK$1,350)ã€‚", nav: "Mercure Gold Coast Resort" },       { time: "18:30 - 20:00", type: "sight", title: "æµ·ç˜æ•£æ­¥ / ä¼‘æ¯", desc: "Surfers Paradise Beachã€‚", nav: "Surfers Paradise Beach" },       { time: "20:00 - 21:00", type: "food", title: "Social Eating House", desc: "æ™šé¤ (HK$200)ã€‚", nav: "Social Eating House + Bar", highlight: "éœ€é ç´„" },       { time: "21:00 - 23:00", type: "sight", title: "æ–°å¹´ç…™èŠ± ðŸŽ†", desc: "Surfers Paradise Beachã€‚", nav: "Surfers Paradise Beach", tips: "19:00 å‰éœ¸ä½ã€‚" }     ]   },   {     day: 8,     date: "01/01 (å››)",     city: "Gold Coast",     title: "æŠ±æ¨¹ç†Š & èž¢ç«èŸ²",     events: [       { time: "09:15 - 10:00", type: "transport", title: "è‡ªé§•åŽ» Currumbin", desc: "è»Šç¨‹ 45min (25km)ã€‚", nav: "Currumbin Wildlife Sanctuary" },       { time: "10:00 - 14:00", type: "sight", title: "Currumbin Wildlife", desc: "Koala Encounter + Lunch (HK$1,300)ã€‚", nav: "Currumbin Wildlife Sanctuary", highlight: "æŠ±æ¨¹ç†Š", tips: "é ç´„ 8:45/9:00 æ™‚æ®µã€‚" },       { time: "14:00 - 15:15", type: "transport", title: "è‡ªé§•åŽ» Tamborine", desc: "è»Šç¨‹ 1hr 15min (90km)ã€‚", nav: "Tamborine Mountain" },       { time: "15:15 - 16:45", type: "sight", title: "èž¢ç«èŸ²æ´ž & Curtis Falls", desc: "Glow Worm Caves (é–€ç¥¨ HK$200)ã€‚", nav: "Glow Worm Caves Tamborine Mountain", note: "æ–°å¹´ç¢ºèªé–‹æ”¾ã€‚" },       { time: "16:45 - 18:15", type: "transport", title: "è‡ªé§•åŽ» Wynnum", desc: "è»Šç¨‹ 1hr 30min (80km)ã€‚", nav: "Wynnum" },       { time: "18:15 - 18:45", type: "sight", title: "Wynnum Waterfront", desc: "æµ·æ¿±æ•£æ­¥æ”¾é¬†ã€‚", nav: "Wynnum Jetty" },       { time: "18:45 - 19:00", type: "stay", title: "å…¥ä½ Wynnum Anchor", desc: "14 Adam St (HK$880)ã€‚", nav: "Wynnum Anchor Quay" },       { time: "19:00 - 20:30", type: "food", title: "Cedar & Pine æ™šé¤", desc: "æ™šé¤ (HK$160)ã€‚", nav: "Cedar & Pine Bar" }     ]   },   {     day: 9,     date: "01/02 (äº”)",     city: "Maleny",     title: "é´¨å˜´ç¸ & çŽ»ç’ƒå±‹å±±",     events: [       { time: "07:00 - 08:30", type: "transport", title: "è‡ªé§•åŽ» Maleny", desc: "è»Šç¨‹ 1hr 30min (85km)ã€‚", nav: "Obi Obi Boardwalk" },       { time: "08:30 - 09:30", type: "sight", title: "ç‡é´¨å˜´ç¸ (Platypus)", desc: "Obi Obi Boardwalk (å…è²»)ã€‚", nav: "Obi Obi Boardwalk", tips: "ä¿æŒå®‰éœï¼Œå¸¶æœ›é é¡ã€‚" },       { time: "09:30 - 11:30", type: "sight", title: "Maleny éŽ®ä¸­å¿ƒ", desc: "é€›è¡—é£²å’–å•¡ (HK$60)ã€‚", nav: "Maple Street Maleny" },       { time: "11:30 - 12:15", type: "transport", title: "è‡ªé§•åŽ» Glass House Mts", desc: "è»Šç¨‹ 40min (20km)ã€‚", nav: "Glass House Mountains Lookout" },       { time: "12:15 - 13:15", type: "sight", title: "Glass House Mts Lookout", desc: "360åº¦å…¨æ™¯ï¼Œå…è²»ã€‚", nav: "Glass House Mountains Lookout" },       { time: "13:15 - 13:45", type: "transport", title: "è‡ªé§•åŽ» Mary Cairncross", desc: "è»Šç¨‹ 30min (15km)ã€‚", nav: "Mary Cairncross Scenic Reserve" },       { time: "13:45 - 16:00", type: "sight", title: "Mary Cairncross Reserve", desc: "é›¨æž—æ­¥é“ + åˆé¤ (HK$120)ã€‚", nav: "Mary Cairncross Scenic Reserve" },       { time: "16:00 - 18:00", type: "transport", title: "è‡ªé§•åŽ» Tin Can Bay", desc: "è»Šç¨‹ 2hr (145km)ã€‚", nav: "Tin Can Bay" },       { time: "18:00 - 18:15", type: "stay", title: "å…¥ä½ Tin Can Bay Motel", desc: "2-4 Lagoon St (HK$830)ã€‚", nav: "Tin Can Bay Motel" },       { time: "18:15 - 19:30", type: "food", title: "Marina Bar & Grill", desc: "æ™šé¤ (HK$160)ã€‚", nav: "Marina Bar & Grill Tin Can Bay" }     ]   },   {     day: 10,     date: "01/03 (å…­)",     city: "Tin Can Bay",     title: "é¤µæµ·è±š & å½©è‰²æ²™",     events: [       { time: "06:30 - 06:45", type: "food", title: "é…’åº—é™„è¿‘æ—©é¤", desc: "æ—©é¤ (HK$100)ã€‚", nav: "Tin Can Bay" },       { time: "06:45 - 08:15", type: "sight", title: "é¤µé‡Žç”Ÿæµ·è±š", desc: "Barnacles Dolphin Centre (HK$100)ã€‚", nav: "Barnacles Dolphin Centre", highlight: "7am æŠµé”", tips: "8am é¤µé£Ÿã€‚" },       { time: "08:15 - 09:30", type: "transport", title: "è‡ªé§•åŽ» Carlo Sand Blow", desc: "è»Šç¨‹ 1hr 15min (60km)ã€‚", nav: "Carlo Sand Blow" },       { time: "09:30 - 11:30", type: "sight", title: "Carlo Sand Blow æ»‘æ²™", desc: "ç§Ÿå€Ÿæ»‘æ²™æ¿ + è§€æ™¯ (HK$100)ã€‚", nav: "Carlo Sand Blow", tips: "å¸¶æ°´ï¼Œ11:30å‰é›¢é–‹é¿ç†±æµªã€‚" },       { time: "11:30 - 11:45", type: "transport", title: "è‡ªé§•åŽ» Rainbow Beach éŽ®", desc: "è»Šç¨‹ 10minã€‚", nav: "Rainbow Beach" },       { time: "11:45 - 12:45", type: "food", title: "Rainbow Beach åˆé¤", desc: "éŽ®ä¸­å¿ƒåˆé¤ + è³¼ç‰© (HK$120)ã€‚", nav: "Rainbow Beach" },       { time: "12:45 - 13:00", type: "transport", title: "å‰å¾€ Coloured Sands", desc: "è»Šç¨‹ 5minã€‚", nav: "Griffin Esplanade" },       { time: "13:00 - 14:00", type: "sight", title: "Coloured Sands", desc: "å½©è‰²æ²™å´–æ¼«æ­¥ (å…è²»)ã€‚", nav: "Rainbow Beach Coloured Sands", tips: "æ½®é€€æ™‚æœ€ä½³ã€‚" },       { time: "14:00 - 14:15", type: "sight", title: "Rainbow Stairs", desc: "æ‰“å¡ä½ã€‚", nav: "Laurie Hanson Park" },       { time: "14:15 - 18:00", type: "transport", title: "è‡ªé§•è¿” Brisbane", desc: "è»Šç¨‹ 3hr 30min (226km)ã€‚", nav: "Brisbane City" },       { time: "18:00 - 18:30", type: "stay", title: "å…¥ä½ Royal Albert Hotel", desc: "Brisbane (HK$860)ã€‚", nav: "Royal Albert Hotel Brisbane" },       { time: "18:30 - 19:30", type: "food", title: "Massimo æ™šé¤", desc: "æ™šé¤ (HK$200)ã€‚", nav: "Massimo Restaurant & Bar" }     ]   },   {     day: 11,     date: "01/04 (æ—¥)",     city: "Brisbane",     title: "å¸ƒé‡Œæ–¯æœ¬ City Walk",     events: [       { time: "10:00 - 10:30", type: "transport", title: "é‚„è»Š (Enterprise)", desc: "10:00 å‰é‚„è»Š (400 George St)ã€‚", nav: "Enterprise Rent-A-Car Brisbane City" },       { time: "09:30 - 12:30", type: "sight", title: "ä¸Šåˆ: åŸŽå¸‚æŽ¢ç´¢ (äºŒé¸ä¸€)", desc: "æ–¹æ¡ˆ1: New Farm é£²å’–å•¡/å…¬åœ’æ•£æ­¥ | æ–¹æ¡ˆ2: City Botanic Gardensã€‚", nav: "Brisbane City", highlight: "è‡ªç”±æ´»å‹•" },       { time: "12:30 - 15:00", type: "food", title: "åˆé¤æ™‚é–“", desc: "æ–¹æ¡ˆ1: Mary Mae's (æ²³é‚Š) | æ–¹æ¡ˆ2: South Bank éŽæ©‹åˆé¤ã€‚", nav: "Brisbane City" },       { time: "15:00 - 17:00", type: "sight", title: "ä¸‹åˆ: é€›è¡—/ä¸‹åˆèŒ¶", desc: "æ–¹æ¡ˆ1: James St ç²¾å“è¡— | æ–¹æ¡ˆ2: South Bank æ²³å²¸/äººé€ æ²™ç˜ã€‚", nav: "James Street" },       { time: "18:00 - 20:00", type: "food", title: "æ™šé¤æ™‚é–“", desc: "æ–¹æ¡ˆ1: sAme sAme (James St) | æ–¹æ¡ˆ2: Harajuku Gyoza (South Bank)ã€‚", nav: "South Bank Parklands" }     ]   },   {     day: 12,     date: "01/05 (ä¸€)",     city: "Brisbane",     title: "å›žå®¶å›‰ âœˆï¸",     events: [       { time: "07:45 - 08:15", type: "transport", title: "å‰å¾€æ©Ÿå ´", desc: "æ­çš„å£«åŽ» BNE æ©Ÿå ´ (HK$200)ã€‚", nav: "Brisbane Airport" },       { time: "08:15 - 10:40", type: "sight", title: "æ©Ÿå ´ Check-in", desc: "è¾¦ç†ç™»æ©Ÿæ‰‹çºŒã€‚", nav: "Brisbane International Airport" },       { time: "10:40 - 20:00", type: "transport", title: "é£›å¾€é¦™æ¸¯", desc: "ç¶“èŽ«çˆ¾èŒ²æ¯”æ¸¯è½‰æ©Ÿ (PX004/PX008)ã€‚", nav: "Hong Kong International Airport" }     ]   } ];  // æ—…éŠè³‡è¨Š (ç”¨æ–¼ Info Tab) const infoData = [   { icon: Phone, title: "ç·Šæ€¥é›»è©±", details: "ç·Šæ€¥æƒ…æ³: 000 (è­¦å¯Ÿ/ç«è­¦/æ•‘è­·)" },   { icon: Wallet, title: "è²¨å¹£èˆ‡æ”¯ä»˜", details: "ä½¿ç”¨æ¾³å…ƒ (AUD)ã€‚å»ºè­°ä½¿ç”¨éžæŽ¥è§¸å¼æ”¯ä»˜ (Tap-and-go)ï¼Œä¿¡ç”¨å¡æ™®åŠã€‚" },   { icon: Plane, title: "é›»å£“èˆ‡æ’é ­", details: "é›»å£“ 240V, æ’é ­ç‚ºå…«å­—å½¢ (Type I)ã€‚" },   { icon: Calendar, title: "æ™‚å€", details: "AEDT (æ‚‰å°¼/å¸ƒé‡Œæ–¯æœ¬)ï¼šæ¯”é¦™æ¸¯å¿« 3 å°æ™‚ (å¤ä»¤æ™‚)ã€‚" },   { icon: Snowflake, title: "æ°£å€™", details: "12æœˆ/1æœˆç‚ºå¤å­£ï¼Œç‚Žç†±ä¹¾ç‡¥ï¼Œéœ€æº–å‚™é˜²æ›¬ç”¨å“ã€‚" },   { icon: Info, title: "å…¶ä»–æé†’", details: "é§•é§›é å·¦ã€‚ç•¶åœ°ç¦ç…™å€å»£æ³›ã€‚éš¨æ™‚é£²ç”¨è‡ªä¾†æ°´å®‰å…¨ã€‚" } ];  // --- 3. å·¥å…·çµ„ä»¶ (Helper Components) ---  // 3.1. å³æ™‚å¤©æ°£å°å·¥å…· const WeatherWidget = ({ city }) => {   const [weather, setWeather] = useState(null);   const [loading, setLoading] = useState(true);   const [error, setError] = useState(null);    const fetchWeather = async (lat, lon) => {     try {       const apiKey = ""; // API key is handled by the environment       const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;        const userQuery = `What is the current temperature, weather condition (e.g., sunny, cloudy, rain), and wind speed in ${city} based on the coordinates latitude: ${lat} and longitude: ${lon}? Output in a JSON object with keys: "temp", "condition", and "wind".`;       const systemPrompt = "You are a specialized weather API interface. Respond strictly with the requested JSON object and use Google Search for up-to-date data. Temperature should be in Celsius, rounded to the nearest integer. Condition must be a single word (e.g., 'Sunny', 'Rain'). Wind speed in km/h.";        const payload = {           contents: [{ parts: [{ text: userQuery }] }],           tools: [{ "google_search": {} }],           systemInstruction: { parts: [{ text: systemPrompt }] },           generationConfig: {               responseMimeType: "application/json",               responseSchema: {                   type: "OBJECT",                   properties: {                       "temp": { "type": "INTEGER", description: "Temperature in Celsius." },                       "condition": { "type": "STRING", description: "Weather condition (e.g., Sunny, Cloudy, Rain)." },                       "wind": { "type": "STRING", description: "Wind speed in km/h." }                   },                   propertyOrdering: ["temp", "condition", "wind"]               }           }       };              const MAX_RETRIES = 3;       for (let i = 0; i < MAX_RETRIES; i++) {         try {           const response = await fetch(apiUrl, {               method: 'POST',               headers: { 'Content-Type': 'application/json' },               body: JSON.stringify(payload)           });            if (!response.ok) {             throw new Error(`HTTP error! status: ${response.status}`);           }            const result = await response.json();           const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;                      if (jsonText) {             const parsedWeather = JSON.parse(jsonText);             setWeather(parsedWeather);             setLoading(false);             return;            }           throw new Error("Invalid response structure from Gemini API.");         } catch (e) {             if (i < MAX_RETRIES - 1) {                 // Exponential backoff                 await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));             } else {                 console.error("Failed to fetch weather after multiple retries:", e);                 setError("ç„¡æ³•ç²å–å¤©æ°£æ•¸æ“š");                 setLoading(false);             }         }       }      } catch (e) {       console.error("Error fetching weather:", e);       setError("ç„¡æ³•ç²å–å¤©æ°£æ•¸æ“š");       setLoading(false);     }   };    useEffect(() => {     if (LOCATIONS[city]) {       setLoading(true);       setError(null);       fetchWeather(LOCATIONS[city].lat, LOCATIONS[city].lon);     } else {       setLoading(false);       setError("ä½ç½®åº§æ¨™ç¼ºå¤±");     }   }, [city]);    const getIcon = (condition) => {     if (!condition) return <Cloud size={20} />;     const lower = condition.toLowerCase();     if (lower.includes('sun')) return <Sun size={20} className="text-yellow-500" />;     if (lower.includes('cloud')) return <Cloud size={20} className="text-blue-400" />;     if (lower.includes('rain') || lower.includes('shower')) return <CloudSnow size={20} className="text-blue-500" />;     if (lower.includes('wind')) return <Wind size={20} className="text-gray-500" />;     return <Cloud size={20} className="text-gray-400" />;   };    if (loading) return (     <div className="flex items-center text-sm text-gray-400 animate-pulse min-w-[120px]">         <RefreshCw size={14} className="animate-spin mr-1"/>         <span className="text-xs">è¼‰å…¥ä¸­...</span>     </div>   );    if (error || !weather || !weather.temp) return (     <div className="flex items-center text-sm text-red-400 min-w-[120px]">       <Cloud size={20} className="mr-1"/>       <span className="text-xs">{error || 'å¤©æ°£æ•¸æ“šç„¡æ•ˆ'}</span>     </div>   );    return (     <div className="flex flex-col items-end text-right min-w-[120px]">         <div className="text-xs font-bold text-gray-700">{city}</div>         <div className="flex items-center mt-1">             {getIcon(weather.condition)}             <span className="text-xl font-black text-pink-600 ml-1">{weather.temp}Â°C</span>         </div>         <div className="text-[10px] text-gray-500 font-medium mt-0.5 capitalize">{weather.condition}</div>     </div>   ); };   // 3.2. é«˜äº®æ–‡å­—çµ„ä»¶ const HighlightText = ({ text }) => {   if (!text) return null;   return (     <span className="inline-block bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full mr-2 mb-1">       {text}     </span>   ); };  // 3.3. æ´»å‹•å¡ç‰‡çµ„ä»¶ const ActivityCard = ({ act }) => {   // ä¿®æ­£ Google Maps å°Žèˆª URL   const handleNav = () => {     const query = act.nav || act.title;      if (query) {       window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');     }   };    const getTypeIcon = (type) => {     switch (type) {       case 'transport':         return <Train size={20} className="text-blue-500" />;       case 'food':         return <Utensils size={20} className="text-red-500" />;       case 'sight':         return <Camera size={20} className="text-green-500" />;       case 'stay':         return <Home size={20} className="text-indigo-500" />;       case 'shop':         return <Wallet size={20} className="text-yellow-600" />;       default:         return <MapPin size={20} className="text-gray-500" />;     }   };    return (     <div className="flex p-3 bg-white rounded-2xl shadow-sm border border-gray-100 items-start">       {/* Time & Icon */}       <div className="flex-shrink-0 w-24 text-center mr-3">         {getTypeIcon(act.type)}         <div className="text-xs font-bold text-gray-700 mt-1 leading-tight">{act.time}</div>       </div>              {/* Content */}       <div className="flex-grow min-w-0">         <h4 className="text-md font-extrabold text-gray-800 leading-snug">{act.title}</h4>                  {/* Highlight Tags */}         <div className="flex flex-wrap items-center mt-1">           {act.highlight && <HighlightText text={act.highlight} />}           {act.note && <HighlightText text={act.note} />}         </div>                  {/* Description & Tips */}         <p className="text-xs text-gray-600 mt-1">{act.desc}</p>         {act.tips && <p className="text-[10px] text-pink-500 font-semibold mt-1">ðŸ’¡ {act.tips}</p>}       </div>        {/* Navigation Button */}       <div className="flex-shrink-0 ml-3">         <button            onClick={handleNav}           className="p-2 bg-pink-500 text-white rounded-full shadow-md hover:bg-pink-600 transition-colors active:scale-95 flex items-center justify-center"           aria-label={`å°Žèˆªè‡³ ${act.nav || act.title}`}         >           <Navigation size={18} />         </button>       </div>     </div>   ); };   // --- 4. æ¯å¤©è¡Œç¨‹å¡ç‰‡ (DayCard - å¯¦ä½œæŠ˜ç–ŠåŠŸèƒ½) --- const DayCard = ({ day }) => {   const [isExpanded, setIsExpanded] = useState(false);    const toggleExpand = () => {     setIsExpanded(!isExpanded);   };    return (     <div className="bg-white rounded-3xl shadow-lg border border-pink-100 overflow-hidden transition-all duration-300">              {/* å¡ç‰‡é ­éƒ¨ (Header) - é»žæ“Šå€åŸŸ */}       <div          className={`p-5 cursor-pointer flex justify-between items-center transition-colors ${isExpanded ? 'bg-pink-100/50' : 'hover:bg-pink-50'}`}         onClick={toggleExpand}       >                  {/* å·¦é‚Šä¸»è¦å…§å®¹å€å¡Š (Flex Container) */}         <div className="flex items-start gap-4 flex-grow min-w-0">                          {/* Day æ•¸èˆ‡æ—¥æœŸ (å›ºå®šå¯¬åº¦) - å·²å„ªåŒ–é¡è‰²å°æ¯” */}             <div className="text-center min-w-[70px] flex-shrink-0">                  {/* ðŸ’¥ ä¿®æ­£ï¼šæ”¹ç‚º Pink è‰²ï¼Œä»¤ Day æ•¸æ›´çªå‡º */}                 <div className="text-3xl font-black text-pink-600 font-mono tracking-tighter">Day {day.day}</div>                 {/* ðŸ’¥ ä¿®æ­£ï¼šæ—¥æœŸæ”¹ç‚ºæ·±ç°ï¼Œå¢žåŠ å°æ¯” */}                 <div className="text-sm font-bold text-gray-600">{day.date}</div>             </div>              {/* æ¨™é¡Œèˆ‡åŸŽå¸‚å€å¡Š (å¯ä¼¸ç¸®) - å·²å„ªåŒ–æŽ’ç‰ˆ */}             <div className="min-w-0 pr-2">                 {/* Title (ä½¿ç”¨ truncate é¿å…é®æ“‹å¤©æ°£å¡) */}                 <h3 className="text-lg font-black text-gray-800 leading-tight truncate">{day.title}</h3>                 <p className="text-sm text-gray-500 flex items-center gap-1 mt-1">                     <MapPin size={14} className="text-pink-400"/>                     {day.city}                 </p>             </div>         </div>                  {/* å³é‚Šå¤©æ°£èˆ‡ç®­å˜´å€å¡Š */}         <div className="flex flex-col items-end gap-2 min-w-[120px] ml-4">             <WeatherWidget city={day.city} />             <ChevronDown                size={20}                className={`text-gray-500 transition-transform duration-300 ${isExpanded ? 'transform rotate-180 text-pink-500' : ''}`}             />         </div>       </div>        {/* å¡ç‰‡å…§å®¹ (æ ¹æ“š isExpanded ç‹€æ…‹é¡¯ç¤º/éš±è—) */}       <div className={`transition-all duration-300 ease-in-out ${isExpanded ? 'max-h-[3000px] opacity-100 p-4' : 'max-h-0 opacity-0 overflow-hidden p-0'}`}>         {/* åªæœ‰å±•é–‹æ™‚æ‰é¡¯ç¤ºå…§å®¹å’Œ padding */}         {isExpanded && (           <div className="pt-4 border-t border-pink-100">             <h4 className="text-md font-bold text-gray-700 mb-3 ml-2">ä»Šæ—¥è¡Œç¨‹ ({day.events.length} é …æ´»å‹•)</h4>             <div className="space-y-3">               {day.events.map((act, i) => (                 <ActivityCard key={i} act={act} />               ))}             </div>           </div>         )}       </div>     </div>   ); };   // --- 5. ä¸»æ‡‰ç”¨ç¨‹å¼ (App) --- export default function App() {   const [tab, setTab] = useState('trip'); // 'trip' or 'info'    return (     <div className="min-h-screen bg-gray-50 pb-28 font-sans">              {/* Header */}       <header className="bg-white/95 backdrop-blur-md sticky top-0 z-40 shadow-sm border-b border-gray-100 p-4">         <h1 className="text-2xl font-black text-gray-800">æ¾³æ´²æ—…è¡Œæ—¥ç¨‹è¡¨ ðŸ‡¦ðŸ‡º</h1>         <p className="text-sm text-gray-500 mt-0.5">2025å¹´12æœˆ25æ—¥ è‡³ 2026å¹´1æœˆ5æ—¥</p>       </header>        {/* Main Content */}       <main className="p-4">         {/* --- TAB 1: è¡Œç¨‹ (Trip) - ä½¿ç”¨ DayCard --- */}         {tab === 'trip' && (           <div className="space-y-6 animate-fadeIn">             {/* ðŸ’¥ å·²ä¿®æ­£åœ¨é€™è£¡ï¼šä½¿ç”¨æ–°çš„ DayCard çµ„ä»¶å¯¦ç¾å¯æŠ˜ç–Š */}             {tripData.map((day) => (               <DayCard key={day.day} day={day} />             ))}           </div>         )}          {/* --- TAB 2: è³‡è¨Š (Info) --- */}         {tab === 'info' && (           <div className="space-y-4 animate-fadeIn">             <h2 className="text-xl font-bold text-blue-600 mb-4 border-b pb-2">é‡è¦æ—…éŠè³‡è¨Š</h2>             {infoData.map((item, index) => (               <div key={index} className="flex items-start p-4 bg-white rounded-xl shadow-md border border-blue-100">                 <item.icon size={24} className="text-blue-500 flex-shrink-0 mr-4 mt-1" />                 <div>                   <h3 className="text-lg font-bold text-gray-800">{item.title}</h3>                   <p className="text-sm text-gray-600 mt-1">{item.details}</p>                 </div>               </div>             ))}           </div>         )}       </main>        {/* Bottom Nav */}       <nav className="fixed bottom-6 left-6 right-6 bg-white/90 backdrop-blur-xl rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-white p-1 flex justify-between items-center z-50 px-2">         <button onClick={() => setTab('trip')} className={`flex-1 flex flex-col items-center py-3 rounded-xl transition-all ${tab === 'trip' ? 'bg-pink-50 text-pink-600' : 'text-gray-400 hover:text-gray-600'}`}>           <Calendar size={22} strokeWidth={tab === 'trip' ? 2.5 : 2} />           <span className="text-[10px] font-bold mt-1">è¡Œç¨‹</span>         </button>         <button onClick={() => setTab('info')} className={`flex-1 flex flex-col items-center py-3 rounded-xl transition-all ${tab === 'info' ? 'bg-blue-50 text-blue-600' : 'text-gray-400 hover:text-gray-600'}`}>           <Plane size={22} strokeWidth={tab === 'info' ? 2.5 : 2} />           <span className="text-[10px] font-bold mt-1">è³‡è¨Š</span>         </button>       </nav>     </div>   ); } 
